<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pr√°ctica Arduino - Sensor Ultrasonido con LCD y OLED</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      overflow-x: hidden;
      height: 100%;
      background: linear-gradient(135deg, #ffecd2, #fcb69f, #ffdde1, #ee9ca7);
      background-size: 400% 400%;
      animation: gradientMove 20s ease infinite;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .fade-in { opacity: 0; transform: translateY(20px); animation: fadeInUp 1s forwards; }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
    header, footer { z-index: 10; position: relative; }
    main { position: relative; z-index: 10; }
    pre, textarea { background-color: rgba(0,0,0,0.85); padding:1rem; border-radius:0.75rem; overflow-x:auto; color:#00ff00; font-family:monospace; }
    button { z-index:20; }
    #toast { display: none; position: fixed; bottom: 2rem; right: 2rem; background-color: #ff6b6b; color: white; padding: 1rem 2rem; border-radius: 1rem; box-shadow: 0 4px 10px rgba(0,0,0,0.3); font-weight: bold; z-index: 50; }
  </style>
</head>
<body>
  <div id="tsparticles" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:0;"></div>

  <header class="bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 text-white p-10 text-center shadow-xl rounded-b-3xl fade-in">
    <h1 class="text-5xl font-extrabold drop-shadow-xl tracking-wide">Pr√°ctica Arduino</h1>
    <p class="text-2xl mt-3 opacity-95">Sensor Ultrasonido con Pantalla LCD y OLED</p>
  </header>

  <main class="max-w-6xl mx-auto p-6 space-y-12 relative">

    <!-- Descripci√≥n -->
    <section class="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-10 border border-gray-200 hover:shadow-3xl transition transform hover:-translate-y-1 fade-in">
      <h2 class="text-3xl font-bold mb-4 text-pink-600">Descripci√≥n</h2>
      <p class="leading-relaxed text-lg">Este proyecto utiliza un <strong>Arduino UNO</strong> con un <strong>sensor ultras√≥nico HC-SR04</strong> y muestra la distancia medida por el sensor en una <strong>LCD 16x2 I2C</strong> y una <strong>pantalla OLED</strong>. Adem√°s, se visualiza en el monitor serial.</p>
    </section>

    <!-- Materiales -->
    <section class="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-10 border border-gray-200 hover:shadow-3xl transition transform hover:-translate-y-1 fade-in">
      <h2 class="text-3xl font-bold mb-4 text-pink-600">Materiales</h2>
      <ul class="grid sm:grid-cols-2 gap-y-2 list-disc list-inside text-lg">
        <li>Arduino UNO</li>
        <li>Protoboard</li>
        <li>Pantalla LCD 16x2 con I2C</li>
        <li>Pantalla OLED 128x64</li>
        <li>Sensor de ultrasonidos HC-SR04</li>
        <li>Cables Dupont</li>
      </ul>
    </section>

    <!-- Montaje -->
    <section class="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-10 border border-gray-200 hover:shadow-3xl transition transform hover:-translate-y-1 fade-in">
      <h2 class="text-3xl font-bold mb-4 text-pink-600">Montaje</h2>
      <p class="leading-relaxed text-lg">Coloca la protoboard frente a ti y el Arduino Uno al lado, de manera que todos los cables puedan llegar c√≥modamente. La l√≠nea roja de la protoboard se utilizar√° como alimentaci√≥n de 5V y la l√≠nea negra como GND. Conecta un cable rojo desde el 5V del Arduino a la l√≠nea roja y un cable negro desde el GND a la l√≠nea negra de la protoboard, de manera que todos los m√≥dulos puedan alimentarse desde all√≠.</p>
      <br>
      <p class="leading-relaxed text-lg">Inserta el sensor ultras√≥nico HC-SR04 en la protoboard. Conecta su pin VCC a la l√≠nea roja y su pin GND a la l√≠nea negra. Conecta el pin TRIG del sensor al pin digital 9 del Arduino y el pin ECHO al pin digital 10. Esto permitir√° enviar la se√±al ultras√≥nica y recibir el eco para medir distancias de manera precisa.</p>
      <br>
      <p class="leading-relaxed text-lg">A continuaci√≥n, coloca el LCD I2C en la protoboard o con cables jumper. Conecta su pin VCC a la l√≠nea roja y su pin GND a la l√≠nea negra. Los pines SDA y SCL del LCD se conectan a los pines A4 y A5 del Arduino, respectivamente, formando el bus I2C que permitir√° enviar los datos de distancia al display.</p>
    </section>
    
    <!-- Esquema / Tinkercad -->
    <section class="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-10 border border-gray-200 hover:shadow-3xl transition transform hover:-translate-y-1 fade-in">
      <h2 class="text-3xl font-bold mb-4 text-pink-600">Esquema de conexi√≥n</h2>
      <div class="overflow-hidden rounded-2xl shadow-lg transform hover:scale-[1.02] transition">
        <iframe src="https://www.tinkercad.com/embed/evQV7cH6FR8?editbtn=1" class="w-full h-96 border-0 rounded-xl"></iframe>
      </div>
    </section>

    <!-- C√≥digo Arduino -->
    <section class="bg-white bg-opacity-95 rounded-3xl shadow-2xl p-10 border border-gray-200 hover:shadow-3xl transition relative transform hover:-translate-y-1 fade-in">
      <h2 class="text-3xl font-bold mb-4 text-pink-600">C√≥digo Arduino</h2>
      <p class="mb-4 text-lg">Copia y pega este c√≥digo en el IDE de Arduino:</p>
      <button id="copiar-btn" class="absolute top-8 right-8 bg-gradient-to-r from-pink-500 to-yellow-500 hover:opacity-90 text-white px-5 py-2 rounded-lg shadow-lg transition font-medium">üìã Copiar c√≥digo</button>
      <textarea id="codigo" readonly style="width:100%; height:400px; padding:1rem; border-radius:0.75rem; background:rgba(0,0,0,0.85); color:#00ff00; font-family:monospace; font-size:0.9rem; overflow:auto;">#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <hd44780.h>
#include <hd44780ioClass/hd44780_I2Cexp.h>

#define ANCHO 128
#define ALTO 64
#define RESET -1
Adafruit_SSD1306 display(ANCHO, ALTO, &Wire, RESET);

hd44780_I2Cexp lcd;

const int trigPin = 9;
const int echoPin = 10;

long duracion;
int distancia;

void setup() {
  Serial.begin(9600);
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);
  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { Serial.println(F("No se encuentra la OLED.")); for(;;); }
  display.clearDisplay(); display.setTextColor(SSD1306_WHITE); display.setTextSize(1); display.setCursor(0,0); display.println("Sensor Ultrasonico"); display.display();
  int status = lcd.begin(16, 2); if (status) { Serial.print("LCD error: "); Serial.println(status); while (1); }
  lcd.backlight(); lcd.setCursor(0,0); lcd.print("Sensor Ultrasonico"); delay(2000);
}

void loop() {
  digitalWrite(trigPin, LOW); delayMicroseconds(2);
  digitalWrite(trigPin, HIGH); delayMicroseconds(10);
  digitalWrite(trigPin, LOW);
  duracion = pulseIn(echoPin, HIGH);
  distancia = duracion * 0.034 / 2;
  if(distancia < 2) distancia = 2;
  if(distancia > 400) distancia = 400;
  Serial.print("Distancia: "); Serial.print(distancia); Serial.println(" cm");
  display.clearDisplay(); display.setTextSize(1); display.setCursor(0,0); display.println("Distancia:"); display.setTextSize(2); display.setCursor(10,30); display.print(distancia); display.println(" cm"); display.display();
  lcd.clear(); lcd.setCursor(0,0); lcd.print("Distancia:"); lcd.setCursor(0,1); lcd.print(distancia); lcd.print(" cm");
  delay(500);
}</textarea>
      <div id="toast">C√≥digo copiado ‚úÖ</div>
    </section>

  </main>

  <script>
    document.getElementById('copiar-btn').addEventListener('click', function() {
      const codigoTextarea = document.getElementById('codigo');
      codigoTextarea.select();
      codigoTextarea.setSelectionRange(0, 99999);
      try {
        document.execCommand('copy');
        const toast = document.getElementById('toast');
        toast.style.display = 'block';
        setTimeout(() => { toast.style.display = 'none'; }, 1500);
      } catch(err) {
        alert('No se pudo copiar el c√≥digo, selecciona y copia manualmente.');
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
      if(window.tsParticles){
        tsParticles.load('tsparticles',{background:{color:{value:'transparent'}},fpsLimit:60,particles:{number:{value:200,density:{enable:true,area:1200}},color:{value:['#ff6b6b','#feca57','#ff9ff3','#48dbfb','#1dd1a1']},shape:{type:'circle'},opacity:{value:0.8,random:true},size:{value:{min:2,max:8},random:true},move:{enable:true,speed:3.5,direction:'none',random:true,straight:false,outModes:{default:'out'}}},interactivity:{events:{onHover:{enable:true,mode:'repulse'},onClick:{enable:true,mode:'push'}},modes:{repulse:{distance:180,duration:0.5},push:{quantity:10}}},detectRetina:true});
      }
    });
  </script>
</body>
</html>
